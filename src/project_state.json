{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "Chatroom app with lobby and admin pages; currently addressing a bug where chatroom lists sometimes disappear after creating rooms until a tag filter is clicked.",
  "architectural_notes": [
    "Lobby and admin pages share the same underlying chatroom list/source; UI state can be overwritten by an empty/undefined fetch response due to timing/race conditions after room creation."
  ],
  "known_issues": [
    "Bug: After creating a chatroom, lobby may show zero rooms and admin page list may also disappear until the user clicks a tag/filter (likely due to empty/undefined fetch result overwriting the list)."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-prevent-the-lobby-admin-chatroom-list-from-being-overwritten-with-an-empty-array-when-a-chatroom-fetch-temporarily-returns-empty-undefined-during-or-shortly-after-chatroom-creation",
      "title": "Prevent the lobby/admin chatroom list from being overwritten with an empty array when a chatroom fetch temporarily returns empty/undefined during or shortly after chatroom creation.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-react-query-chatroom-queries-so-transient-failures-empty-responses-do-not-erase-previously-fetched-chatroom-data-keep-previous-data-while-refetching-and-treat-fetch-failures-as-errors-rather-than-returning-an-empty-list",
      "title": "Update the React Query chatroom queries so transient failures/empty responses do not erase previously fetched chatroom data (keep previous data while refetching, and treat fetch failures as errors rather than returning an empty list).",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-chatroom-creation-triggers-a-reliable-refresh-of-all-relevant-chatroom-list-views-including-base-list-category-filtered-lists-and-search-lists-without-requiring-any-user-interaction",
      "title": "Ensure chatroom creation triggers a reliable refresh of all relevant chatroom list views, including base list, category-filtered lists, and search lists, without requiring any user interaction.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [],
  "projectName": "Fix intermittent empty chatroom list after creating chatrooms (lobby + admin)",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}