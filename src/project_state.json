{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "Implement automatic cleanup of rooms: any room older than 5 minutes should be deleted, including existing rooms at rollout.",
  "architectural_notes": [
    "Add a background cleanup mechanism (scheduled job/worker) to delete rooms with age > 5 minutes, and ensure it runs against all existing room records."
  ],
  "known_issues": [],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-update-the-frontend-to-handle-rooms-disappearing-due-to-expiry-gracefully-no-crashes-show-existing-not-found-removed-state-when-a-user-is-viewing-a-room-that-gets-deleted",
      "title": "Update the frontend to handle rooms disappearing due to expiry gracefully (no crashes; show existing not-found/removed state when a user is viewing a room that gets deleted).",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Automatically delete rooms older than 5 minutes (apply to existing rooms too)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Implement automatic backend cleanup so that any chatroom with createdAt older than 5 minutes is deleted, including all existing rooms present at rollout.",
      "reqIds": [
        "REQ-1"
      ],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Ensure room expiration is enforced even if a scheduled cleanup has not run yet by filtering out expired chatrooms from read APIs (e.g., lobby/chatroom list and single chatroom fetch) and triggering cleanup during normal canister activity.",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Automatically delete chatrooms older than 5 minutes (including existing rooms)",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}