{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "Project includes image compression and is planning an admin-page action to wipe/reset all application data.",
  "architectural_notes": [
    "Reset/wipe-all-data operation should clear all persistent state (chatrooms/messages/blobs/counters) and is intended to have no principal/caller auth checks; protection is via admin UI/password only.",
    "Image compression feature has been deployed (Version 164)."
  ],
  "known_issues": [],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-expose-the-reset-capability-in-the-admin-ui-at-frontend-src-pages-admindeletechatroomspage-tsx-as-a-clearly-labeled-destructive-action-e-g-reset-wipe-all-data-that-is-protected-only-by-the-existing-admin-password-session-gating-already-used-on-that-page-the-ui-must-require-admin-authentication-the-existing-password-flow-before-the-reset-control-is-visible-usable-show-a-strong-confirmation-dialog-explaining-the-action-is-irreversible-show-loading-disabled-state-while-the-reset-is-executing-surface-success-failure-via-the-app-s-existing-toast-alert-patterns",
      "title": "Expose the reset capability in the admin UI at `frontend/src/pages/AdminDeleteChatroomsPage.tsx` as a clearly labeled destructive action (e.g., \"Reset/Wipe All Data\") that is protected only by the existing admin password/session gating already used on that page.\n\nThe UI must:\n- Require admin authentication (the existing password flow) before the reset control is visible/usable\n- Show a strong confirmation dialog explaining the action is irreversible\n- Show loading/disabled state while the reset is executing\n- Surface success/failure via the appâ€™s existing toast/alert patterns",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-add-frontend-data-plumbing-for-the-reset-action-by-introducing-a-dedicated-react-query-mutation-hook-in-frontend-src-hooks-usequeries-ts-that-calls-the-new-backend-reset-method-after-a-successful-reset-the-app-must-invalidate-relevant-cached-queries-so-the-lobby-admin-views-immediately-reflect-an-empty-fresh-state-at-minimum-chatrooms-messages-and-any-per-chatroom-queries",
      "title": "Add frontend data plumbing for the reset action by introducing a dedicated React Query mutation hook in `frontend/src/hooks/useQueries.ts` that calls the new backend reset method.\n\nAfter a successful reset, the app must invalidate relevant cached queries so the lobby/admin views immediately reflect an empty/fresh state (at minimum: chatrooms, messages, and any per-chatroom queries).",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Add an admin-page \"Reset/Wipe All Data\" function/button that clears all stored state and does not require principal/caller checks (frontend-only protection).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Add a backend function that wipes/resets all application data and can be called without any `caller`/`Principal` checks.\n\nThe reset must clear all persisted in-canister state used by the app, including:\n- all chatrooms\n- all messages\n- all active-user presence tracking\n- all reactions\n- all user profiles\n- all ID counters (e.g., next chatroom/message IDs)\n\nThe function must not require authentication/authorization in Motoko (no AccessControl checks and no use of `caller` for gating).",
      "reqIds": [
        "REQ-1"
      ],
      "status": "pending"
    }
  ],
  "projectName": "Add admin-page \"Reset/Wipe All Data\" action (frontend-password gated, no caller/principal checks)",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}