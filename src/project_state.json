{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "Chatroom app with admin page; implement a frontend fix so the unfiltered lobby and /admin/delete-chatrooms correctly show rooms without requiring a category click (React Query stale cache/refetch issue).",
  "architectural_notes": [
    "Frontend uses React Query; unfiltered rooms list and admin delete-chatrooms page depend on the same base query key and can show stale cached empty results unless refetched/invalidated."
  ],
  "known_issues": [
    "Rooms are not visible in the default lobby or /admin/delete-chatrooms page unless a category filter is clicked (likely due to React Query stale cache/empty result persistence)."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-ensure-the-unfiltered-chatroom-list-react-query-key-chatrooms-reliably-refetches-fresh-data-on-page-entry-and-is-not-stuck-showing-a-previously-cached-empty-array-in-the-lobby-page",
      "title": "Ensure the unfiltered chatroom list (React Query key ['chatrooms']) reliably refetches fresh data on page entry and is not stuck showing a previously-cached empty array in the Lobby page.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-admin-delete-chatrooms-page-displays-the-full-chatroom-list-immediately-after-authentication-and-does-not-remain-empty-due-to-stale-cached-results-for-the-base-chatrooms-query",
      "title": "Ensure the /admin/delete-chatrooms page displays the full chatroom list immediately after authentication and does not remain empty due to stale cached results for the base ['chatrooms'] query.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-update-react-query-invalidation-refetch-behavior-so-that-creating-a-new-chatroom-guarantees-the-base-chatrooms-query-updates-promptly-in-the-lobby-and-admin-pages-in-addition-to-any-filtered-query-variants",
      "title": "Update React Query invalidation/refetch behavior so that creating a new chatroom guarantees the base ['chatrooms'] query updates promptly in the lobby and admin pages (in addition to any filtered query variants).",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Fix rooms list not appearing in default (unfiltered) lobby and delete-chatrooms admin page until a category filter is clicked by adjusting React Query caching/refetch/invalidation behavior.",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "projectName": "Fix chatroom list not showing in unfiltered lobby/admin until category click (React Query stale cache)",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}