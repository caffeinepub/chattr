{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "New project",
  "architectural_notes": [
    "Decision: Use a single base React Query key ['chatrooms'] for the lobby list; empty search/category states must reuse the base key instead of separate empty-filter keys."
  ],
  "known_issues": [
    "Bug: Lobby can display stale empty chatroom lists due to separate React Query cache keys for empty search/category (e.g., ['chatrooms','search',''], ['chatrooms','category',''])."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-normalize-chatroom-react-query-caching-so-that-when-the-search-term-is-empty-whitespace-or-the-category-is-empty-whitespace-the-corresponding-hooks-use-the-base-chatroom-query-key-chatrooms-and-not-chatrooms-search-or-chatrooms-category-this-ensures-the-lobby-cannot-display-a-stale-empty-list-due-to-alternate-empty-filter-cache-keys",
      "title": "Normalize chatroom React Query caching so that when the search term is empty/whitespace or the category is empty/whitespace, the corresponding hooks use the base chatroom query key ['chatrooms'] (and not ['chatrooms','search',''] or ['chatrooms','category','']). This ensures the Lobby cannot display a stale empty list due to alternate empty-filter cache keys.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-update-all-chatroom-list-cache-invalidations-to-refresh-every-chatroom-related-query-base-search-and-category-variants-by-invalidating-the-full-chatrooms-query-key-namespace-i-e-not-only-the-exact-chatrooms-key",
      "title": "Update all chatroom list cache invalidations to refresh every chatroom-related query (base, search, and category variants) by invalidating the full ['chatrooms'] query key namespace (i.e., not only the exact ['chatrooms'] key).",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Normalize chatrooms React Query keys so empty search/category filters fall back to the base ['chatrooms'] cache (prevents stale empty lists)",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "projectName": "Normalize chatroom React Query keys for empty search/category filters",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}