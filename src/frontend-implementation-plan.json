{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Deterministic production cache-busting for latest lobby bundle",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Force production clients/CDNs to fetch the newest frontend bundle by adding deterministic cache-busting and no-cache meta directives in frontend/index.html.",
      "acceptanceCriteria": [
        "`frontend/index.html` changes the module script URL in a way that forces a fresh fetch (e.g., adds a version query string to `/src/main.tsx`), without breaking the app load.",
        "`frontend/index.html` includes no-cache meta directives to discourage browser caching (e.g., Cache-Control/Pragma/Expires equivalents) while remaining valid HTML.",
        "After deployment, a hard refresh shows the lobby renders chatrooms on first load with no category selected (i.e., it does not start in category-filter mode).",
        "The cache-busting version value is easy to increment for future forced refreshes (single, obvious place to change in `frontend/index.html`)."
      ],
      "file_operations": [
        {
          "path": "frontend/index.html",
          "operation": "modify",
          "description": "Add browser cache-discouraging meta directives (Cache-Control/Pragma/Expires equivalents) and update the existing module script tag to include a deterministic cache-bust query string on the `/src/main.tsx` URL (e.g., `?v=...`). Ensure the version is defined in a single, obvious place on that script tag (and optionally accompanied by a nearby comment explaining how to bump it) so future forced refreshes are straightforward, and confirm the HTML remains valid and the app still loads."
        }
      ]
    }
  ]
}