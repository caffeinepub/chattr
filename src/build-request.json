{
  "kind": "build_request",
  "title": "Fix image rendering in chatrooms",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Fix image display functionality in chatroom messages so that images with imageId are properly rendered and visible to users",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-latest"
        ],
        "quotes": [
          "just fix image rendering in chatrooms"
        ]
      },
      "acceptanceCriteria": [
        "Images uploaded via MessageInput are displayed correctly in MessageBubble components",
        "Image rendering works for all message types that include imageId",
        "No visual style changes are introduced to existing components"
      ]
    },
    {
      "id": "REQ-2",
      "text": "Preserve all existing visual styles and layout in the chatroom interface during the fix",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-latest"
        ],
        "quotes": [
          "while maintaining current styles"
        ]
      },
      "acceptanceCriteria": [
        "No changes to CSS classes or inline styles",
        "No modifications to component layout or structure beyond what's necessary for image rendering",
        "Existing theme and design system remain unchanged"
      ]
    },
    {
      "id": "REQ-3",
      "text": "Do not add any caller verification or authentication checks to backend methods",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-latest"
        ],
        "quotes": [
          "not adding caller checks to the backend"
        ]
      },
      "acceptanceCriteria": [
        "No new caller() checks are added to any backend functions",
        "Anonymous access pattern is preserved across all backend methods",
        "Existing backend logic remains unchanged except for what's strictly necessary to support image rendering"
      ]
    }
  ],
  "constraints": [
    "Do not modify any visual styles or CSS",
    "Do not add caller checks or authentication logic to the backend",
    "Maintain anonymous access pattern throughout the application"
  ],
  "nonGoals": [
    "Restoring code from version 261",
    "Adding authentication or user verification",
    "Redesigning the chat interface",
    "Modifying security or access control patterns"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}