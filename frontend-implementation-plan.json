{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Disable mobile default long-press behavior in context menu",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Suppress native mobile long-press popups in MessageBubble by preventing default touch and context menu events, and applying CSS properties to disable browser gestures",
      "acceptanceCriteria": [
        "On mobile, long-pressing a message bubble does not trigger the browser's native context menu or text selection popup.",
        "On iOS, the native image/link save dialog does not appear on long press.",
        "On Android, the browser's native context menu does not appear on long press.",
        "The custom context menu still appears correctly on long press.",
        "The touchstart and contextmenu events have preventDefault() called.",
        "The message bubble element has -webkit-touch-callout: none and touch-action: none applied."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/MessageBubble.tsx",
          "operation": "modify",
          "description": "Add preventDefault() calls to both touchstart and contextmenu event handlers on the message bubble container element. Add onContextMenu={(e) => e.preventDefault()} prop alongside the existing long-press touch handlers. Apply inline styles or className with touch-action: none and -webkit-touch-callout: none CSS properties to the message bubble container to suppress iOS image save dialogs and Android context menus. Ensure these changes do not interfere with the existing custom context menu triggered by long press."
        }
      ]
    }
  ]
}